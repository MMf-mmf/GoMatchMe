{% load widget_tweaks %}
<div class="relative z-50" 
    x-data="{ suggestion_id: '{{suggestion.id}}' }"
    x-show="details_open"
    x-cloak
>
  <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div>
  <div class="fixed inset-0 z-50 w-screen overflow-y-auto">
    <div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"
        x-show="details_open"
        x-cloak
        x-transition:enter="ease-out duration-300"
        x-transition:enter-start="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
        x-transition:enter-end="opacity-100 translate-y-0 sm:scale-100"
        x-transition:leave="ease-in duration-200"
        x-transition:leave-start="opacity-100 translate-y-0 sm:scale-100"
        x-transition:leave-end="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
        >
        <div class="relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg" x-show="details_open" x-cloak>
            <!-- Main Details Section -->
            {% comment %} <form class="rounded-lg bg-gray-50 shadow-sm ring-1 ring-gray-900/5" method="post" action="{% url 'mark_working_on_it' suggestion.id %}">
                {% csrf_token %} {% endcomment %}
                <div class="px-6 py-4 bg-gray-100 border-b border-gray-200">
                    <dl class="grid grid-cols-2 gap-4">
                        <div>
                            <dt class="text-sm font-semibold leading-6 text-gray-900">Amount Paid</dt>
                            <dd class="mt-1 text-lg font-medium text-gray-600" x-text="'$' + amount"></dd>
                        </div>
                        <div class="text-right">
                            <dt class="text-sm font-semibold leading-6 text-gray-900">Suggested By</dt>
                            <dd class="mt-1 text-lg font-medium text-gray-600" x-text="suggestion_by_first_name + ' ' + suggestion_by_last_name"></dd>
                        </div>
                    </dl>
                </div>

                <!-- Additional Details Section -->
                <div class="px-6 py-4">
                    <dl class="grid grid-cols-2 gap-6">
                        <div>
                            <dd class="text-sm font-medium text-gray-900">Boys First Name</dd>
                            <dd class="text-sm text-gray-500" x-text="boys_first_name + ' ' + boys_last_name"></dd>
                        </div>
                        <div class="text-right">
                            <dd class="text-sm font-medium text-gray-900">Girls Name</dd>
                            <dd class="text-sm text-gray-500" x-text="girls_first_name + ' ' + girls_last_name"></dd>
                        </div>
                    </dl>

                    <!-- Parents Information -->
                    <div class="mt-6 grid grid-cols-2 gap-6">
                        <div>
                            <dd class="text-sm font-medium text-gray-900">Boys Parents</dd>
                            <dd class="text-sm text-gray-500" x-text="boys_mothers_name + ' And ' + boys_fathers_name"></dd>
                        </div>
                        <div class="text-right">
                            <dd class="text-sm font-medium text-gray-900">Girls Parents</dd>
                            <dd class="text-sm text-gray-500" x-text="girls_mothers_name + ' And ' + girls_fathers_name"></dd>
                        </div>
                    </div>

                    <!-- Ages -->
                    <div class="mt-6 grid grid-cols-2 gap-6">
                        <div>
                            <dd class="text-sm font-medium text-gray-900">Boys Age</dd>
                            <dd class="text-sm text-gray-500" x-text="boys_age"></dd>
                        </div>
                        <div class="text-right">
                            <dd class="text-sm font-medium text-gray-900">Girls Age</dd>
                            <dd class="text-sm text-gray-500" x-text="girls_age"></dd>
                        </div>
                    </div>

                    <!-- Locations -->
                    <div class="mt-6 grid grid-cols-2 gap-6">
                        <div>
                            <dd class="text-sm font-medium text-gray-900">Boys Country/City</dd>
                            <dd class="text-sm text-gray-500" x-text="boys_city + ', ' + boys_country"></dd>
                        </div>
                        <div class="text-right">
                            <dd class="text-sm font-medium text-gray-900">Girls Country/City</dd>
                            <dd class="text-sm text-gray-500" x-text="girls_city + ', ' + girls_country"></dd>
                        </div>
                    </div>
                </div>

                <!-- Message Section -->
                <div class="border-t border-gray-200 px-6 py-4">
                    <dt class="text-sm font-semibold leading-6 text-gray-900">Message</dt>
                    <dd class="mt-1 text-base leading-6 text-gray-500" x-text="message"></dd>
                </div>

                <!-- Contact Information -->
                <div class="flex py-4 px-6 border-t border-gray-200">
                    <div class="w-1/2">
                        <dt class="text-sm font-semibold leading-6 text-gray-900">Phone Number</dt>
                        <dd class="mt-1 text-base leading-6 text-gray-500" x-text="phone_number"></dd>
                    </div>
                    <div class="w-1/2 text-right">
                        <dt class="text-sm font-semibold leading-6 text-gray-900">Email</dt>
                        <dd class="mt-1 text-base leading-6 text-gray-500" x-text="email"></dd>
                    </div>
                </div>

                <!-- Back Button -->
                   {% comment %} <div class="mt-6 border-t border-gray-200 px-6 py-4 flex justify-between"> {% endcomment %}
                    <button @click="details_open=false" class="text-sm font-semibold leading-6 text-indigo-600 hover:text-indigo-700">
                        <span aria-hidden="true">&larr;</span> Back to list
                    </button>
                    {% comment %} <button type="submit" title="tell other shadchanim that i'm working on this suggestion" class="text-sm font-semibold leading-6 text-indigo-600 hover:text-indigo-700">
                        I'm on it <span aria-hidden="true">&rarr;</span>
                    </button> {% endcomment %}
                </div>
            {% comment %} </form> {% endcomment %}
        </div>
    </div>
  </div>
</div>
